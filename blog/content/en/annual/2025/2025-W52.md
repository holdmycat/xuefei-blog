---
title: "Week 52, 2025 - Core Architecture Refactoring & Numerical Framework Implementation"
date: 2025-12-30
week: "2025-W52"
tags: ["Unity", "SLG", "Architecture"]
draft: false
---

## Weekly Summary

This week (2025-12-25 to 2025-12-30) focused on establishing the core Server-Client Dual World Architecture for the SLG system:

### Core Achievements

- âœ… **Server-Client Separation**: Implemented `DualWorldSceneManager`, decoupling presentation from logic.
- âœ… **Zenject MVVM**: Implemented Dependency Injection and Reactive Binding for UI using Zenject.
- âœ… **Visual Configuration**: Completed NodeGraph-based editors for Commander and Squad attributes.

### Technical Highlights

- **Reactive Binding**: Resolved UI initialization timing issues, ensuring data consistency via event streams.
- **Strict Animation Locking**: Prevented UI state machine timing errors during complex interactions.

### Next Week Plan

- Implement Squad/Soldier entity spawning.
- Complete basic movement and combat loops.

## This Week's Progress

### December 29, 2025 (Monday)

- âœ… **UI Atlas System**: Integrated `UIAtlasRepository` and `DataLoaderService` for unified Sprite Atlas management.
- âœ… **Level Up System**: Connected UI (`CommanderInfoWidget`) -> ViewModel -> Component for LevelUp and Reset logic.
- âœ… **Legion Architecture**: Established "Flat Data Layer (`ShowcaseContext`), Hierarchical Presentation Layer (`ViewModel`)" principle.
- âœ… **Strict Mode Verification**: Implemented Strict Animation Locking to prevent UI state machine issues.
- ğŸ“… **Tomorrow's Plan**: Configure Legion attributes (`SlgLegionAttributesNodeData`) and chain initialization logic.

### December 28, 2025 (Sunday)

- âœ… **UI Architecture (MVVM)**: Implemented Zenject-based MVVM framework supporting nested UIs and dynamic factories.
- âœ… **Reactive Binding**: Solved initialization race conditions using `OnCommanderAdded` event streams.
- âœ… **Factory Pattern**: Unified lifecycle management for Scene objects and Factory objects.
- ğŸ“… **Tomorrow's Plan**: Proceed with Squad/Soldier entity spawning and combat attribute integration.

### December 27, 2025 (Saturday)

- âœ… **Deep Architecture Refactoring**: Split SceneManager into `DualWorldSceneManager` + `ShowcaseServer/ClientManager`.
- âœ… **Zenject Binding Fixes**: Resolved Circular Dependency issues with Abstract Class bindings.
- âœ… **Numeric System Upgrade**: Implemented `LevelUp` interface for `CommanderNumericComponent` via hardcoded logic.
- âœ… **Log Health Check**: Verified start/stop symmetry and memory safety via Log Analysis workflow.
- ğŸ“… **Tomorrow's Plan**: Load `UIScene_ShowCaseScene` and connect Commander attributes to UI.

### December 26, 2025 (Friday)

- âœ… **Commander Refactoring**: Completed Context Scope injection for self-contained Commander dependency.
- âœ… **Visual Config**: Completed NodeGraph editor for Commander/Squad.
- âœ… **Numeric Architecture**: Introduced `NumericComponentFactory`.
- âš ï¸ **Plan Adjustment**: Squad spawning delayed.

### December 25, 2025 (Thursday)

- âœ… **Dual World Spawning**: Completed ScriptableObject-based entity spawning for Server/Client.
- âœ… **Data Migration**: Migrated Player and Monster data to SO.
